2024-12-08T18:25:14.135-03:00  INFO 36751 --- [libraryapi] [main] i.g.cursodsousa.libraryapi.Application   : Starting Application using Java 21.0.5 with PID 36751 (/home/cb/course/spring/springbootexpert/libraryapi/target/classes started by cb in /home/cb/course/spring/springbootexpert/libraryapi)
2024-12-08T18:25:14.150-03:00 DEBUG 36751 --- [libraryapi] [main] i.g.cursodsousa.libraryapi.Application   : Running with Spring Boot v3.3.4, Spring v6.1.13
2024-12-08T18:25:14.155-03:00  INFO 36751 --- [libraryapi] [main] i.g.cursodsousa.libraryapi.Application   : The following 1 profile is active: "default"
2024-12-08T18:25:24.753-03:00  INFO 36751 --- [libraryapi] [main] i.g.c.l.config.DatabaseConfiguration     : Iniciando conex√£o com o banco na URL: jdbc:postgresql://library-database.c3cqsioossb3.us-east-2.rds.amazonaws.com:5432/library
2024-12-08T18:25:24.787-03:00  WARN 36751 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2024-12-08T18:25:33.657-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2024-12-08T18:25:33.661-03:00 DEBUG 36751 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2024-12-08T18:25:36.615-03:00  WARN 36751 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08T18:25:36.696-03:00 TRACE 36751 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=io.github.cursodsousa.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@335ff774, securityConfiguration=io.github.cursodsousa.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@2252dc5d}
2024-12-08T18:25:36.707-03:00  INFO 36751 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2024-12-08T18:25:37.168-03:00 DEBUG 36751 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2024-12-08T18:25:37.248-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2024-12-08T18:25:37.377-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2024-12-08T18:25:40.870-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f56ccb58220@22b0c1cf with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2024-12-08T18:25:41.050-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-12-08T18:25:41.071-03:00  WARN 36751 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:25:41.072-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2024-12-08T18:25:41.073-03:00  WARN 36751 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:25:41.074-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2024-12-08T18:25:41.077-03:00  WARN 36751 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:25:41.078-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2024-12-08T18:25:41.078-03:00  WARN 36751 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:25:41.078-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2024-12-08T18:25:41.078-03:00  WARN 36751 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:25:41.079-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2024-12-08T18:25:41.079-03:00  WARN 36751 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:25:41.079-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2024-12-08T18:25:41.079-03:00  WARN 36751 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:25:41.079-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2024-12-08T18:25:41.307-03:00 DEBUG 36751 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-08T18:25:41.432-03:00 DEBUG 36751 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-08T18:25:43.308-03:00 DEBUG 36751 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2024-12-08T18:25:43.312-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2024-12-08T18:25:43.321-03:00 DEBUG 36751 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2024-12-08T18:25:43.340-03:00 DEBUG 36751 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-08T18:25:43.394-03:00  INFO 36751 --- [libraryapi] [main] i.g.cursodsousa.libraryapi.Application   : Started Application in 30.751 seconds (process running for 32.352)
2024-12-08T18:26:32.770-03:00  INFO 39919 --- [libraryapi] [main] i.g.cursodsousa.libraryapi.Application   : Starting Application using Java 21.0.5 with PID 39919 (/home/cb/course/spring/springbootexpert/libraryapi/target/classes started by cb in /home/cb/course/spring/springbootexpert/libraryapi)
2024-12-08T18:26:32.777-03:00 DEBUG 39919 --- [libraryapi] [main] i.g.cursodsousa.libraryapi.Application   : Running with Spring Boot v3.3.4, Spring v6.1.13
2024-12-08T18:26:32.780-03:00  INFO 39919 --- [libraryapi] [main] i.g.cursodsousa.libraryapi.Application   : The following 1 profile is active: "default"
2024-12-08T18:26:41.685-03:00  INFO 39919 --- [libraryapi] [main] i.g.c.l.config.DatabaseConfiguration     : Iniciando conex√£o com o banco na URL: jdbc:postgresql://library-database.c3cqsioossb3.us-east-2.rds.amazonaws.com:5432/library
2024-12-08T18:26:41.700-03:00  WARN 39919 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2024-12-08T18:26:49.717-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2024-12-08T18:26:49.732-03:00 DEBUG 39919 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2024-12-08T18:26:52.930-03:00  WARN 39919 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08T18:26:52.991-03:00 TRACE 39919 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=io.github.cursodsousa.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@557abb68, securityConfiguration=io.github.cursodsousa.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@4ff5711b}
2024-12-08T18:26:52.997-03:00  INFO 39919 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2024-12-08T18:26:53.402-03:00 DEBUG 39919 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2024-12-08T18:26:53.459-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2024-12-08T18:26:53.612-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2024-12-08T18:26:56.303-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f6524b5ee50@28bbac99 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2024-12-08T18:26:56.413-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-12-08T18:26:56.434-03:00  WARN 39919 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:26:56.434-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2024-12-08T18:26:56.435-03:00  WARN 39919 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:26:56.436-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2024-12-08T18:26:56.436-03:00  WARN 39919 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:26:56.438-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2024-12-08T18:26:56.439-03:00  WARN 39919 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:26:56.443-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2024-12-08T18:26:56.445-03:00  WARN 39919 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:26:56.446-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2024-12-08T18:26:56.448-03:00  WARN 39919 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:26:56.449-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2024-12-08T18:26:56.449-03:00  WARN 39919 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:26:56.449-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2024-12-08T18:26:56.680-03:00 DEBUG 39919 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-08T18:26:56.785-03:00 DEBUG 39919 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-08T18:26:59.004-03:00 DEBUG 39919 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2024-12-08T18:26:59.010-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2024-12-08T18:26:59.024-03:00 DEBUG 39919 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2024-12-08T18:26:59.057-03:00 DEBUG 39919 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-08T18:26:59.122-03:00  INFO 39919 --- [libraryapi] [main] i.g.cursodsousa.libraryapi.Application   : Started Application in 28.261 seconds (process running for 29.851)
2024-12-08T18:28:37.987-03:00  INFO 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-08T18:28:37.988-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-08T18:28:37.988-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-08T18:28:37.989-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-08T18:28:38.003-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@8afd00e
2024-12-08T18:28:38.004-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@619cdd5e
2024-12-08T18:28:38.006-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-08T18:28:38.006-03:00  INFO 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 19 ms
2024-12-08T18:28:38.106-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:28:38.108-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:28:38.109-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:28:38.110-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:28:38.111-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:28:38.112-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:28:38.123-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:28:38.139-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f6524b5ee50@28bbac99, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4f237aac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e8330ba, org.springframework.security.web.context.SecurityContextHolderFilter@6451fd0e, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@50e9b5f4, org.springframework.security.web.header.HeaderWriterFilter@59de440b, org.springframework.security.web.csrf.CsrfFilter@26a8e303, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@29957fe0, org.springframework.security.web.authentication.logout.LogoutFilter@57c06659, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@44bd4b94, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@408ce324, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@8d44ee6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@32e2d117, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7c3e94b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4148a617, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a2227e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68009f48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@739fcd31, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@716c201e, org.springframework.security.web.access.ExceptionTranslationFilter@55e9b119, org.springframework.security.web.access.intercept.AuthorizationFilter@1d5522e4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d40f584, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@77d695f2, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@45bf1b4e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2dda91b3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@61e4cf9b]] (8/9)
2024-12-08T18:28:38.156-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2024-12-08T18:28:38.172-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2024-12-08T18:28:38.192-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2024-12-08T18:28:38.207-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2024-12-08T18:28:38.220-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2024-12-08T18:28:38.254-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2024-12-08T18:28:38.258-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2024-12-08T18:28:38.272-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f6524b5ee50@28bbac99, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@131c4ffe]]]
2024-12-08T18:28:38.273-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2024-12-08T18:28:38.283-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2024-12-08T18:28:38.284-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2024-12-08T18:28:38.285-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2024-12-08T18:28:38.286-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2024-12-08T18:28:38.302-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2024-12-08T18:28:38.303-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-12-08T18:28:38.304-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-12-08T18:28:38.324-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2024-12-08T18:28:39.319-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2024-12-08T18:28:39.334-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2024-12-08T18:28:39.335-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2024-12-08T18:28:39.352-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2024-12-08T18:28:39.363-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2024-12-08T18:28:39.364-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2024-12-08T18:28:39.364-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2024-12-08T18:28:39.366-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2024-12-08T18:28:39.367-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2024-12-08T18:28:39.379-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2024-12-08T18:28:39.380-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-12-08T18:28:39.380-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2024-12-08T18:28:39.381-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2024-12-08T18:28:39.381-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2024-12-08T18:28:39.411-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2024-12-08T18:28:39.412-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2024-12-08T18:28:39.412-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2024-12-08T18:28:39.427-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2024-12-08T18:28:39.428-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2d0fb5e6
2024-12-08T18:28:39.429-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-12-08T18:28:39.459-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2024-12-08T18:28:39.597-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2024-12-08T18:28:39.597-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2024-12-08T18:28:39.613-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@131c4ffe, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@e156110, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@e156110, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@e156110, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2024-12-08T18:28:39.626-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@e156110, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2024-12-08T18:28:39.627-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@5d2e6b31
2024-12-08T18:28:39.628-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2024-12-08T18:28:39.629-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-12-08T18:28:40.716-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:28:40.729-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:28:40.729-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:28:40.730-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:28:40.730-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:28:40.730-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:28:40.731-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:28:40.732-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f6524b5ee50@28bbac99, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4f237aac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e8330ba, org.springframework.security.web.context.SecurityContextHolderFilter@6451fd0e, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@50e9b5f4, org.springframework.security.web.header.HeaderWriterFilter@59de440b, org.springframework.security.web.csrf.CsrfFilter@26a8e303, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@29957fe0, org.springframework.security.web.authentication.logout.LogoutFilter@57c06659, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@44bd4b94, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@408ce324, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@8d44ee6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@32e2d117, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7c3e94b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4148a617, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a2227e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68009f48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@739fcd31, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@716c201e, org.springframework.security.web.access.ExceptionTranslationFilter@55e9b119, org.springframework.security.web.access.intercept.AuthorizationFilter@1d5522e4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d40f584, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@77d695f2, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@45bf1b4e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2dda91b3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@61e4cf9b]] (8/9)
2024-12-08T18:28:40.732-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@9260599, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@386beb8a, org.springframework.security.web.context.SecurityContextHolderFilter@2184c27b, org.springframework.security.web.header.HeaderWriterFilter@389d371a, org.springframework.security.web.authentication.logout.LogoutFilter@65fbb726, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3e8a1137, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5f50f63e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@55781d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@32daea66, io.github.cursodsousa.libraryapi.security.JwtCustomAuthenticationFilter@61799152, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@667c2066, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c21bab4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d18f9b8, org.springframework.security.web.access.ExceptionTranslationFilter@385abc08, org.springframework.security.web.access.intercept.AuthorizationFilter@aca89a3]] (9/9)
2024-12-08T18:28:40.733-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2024-12-08T18:28:40.733-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2024-12-08T18:28:40.745-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2024-12-08T18:28:40.746-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2024-12-08T18:28:40.746-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2024-12-08T18:28:40.747-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2024-12-08T18:28:40.747-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-12-08T18:28:40.747-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2024-12-08T18:28:40.748-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2024-12-08T18:28:40.748-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-12-08T18:28:40.761-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2024-12-08T18:28:40.776-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2024-12-08T18:28:40.777-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2024-12-08T18:28:40.777-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-12-08T18:28:40.778-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2024-12-08T18:28:40.778-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 3E43C62BBC022E7406043354DA03D11A using the SPRING_SECURITY_CONTEXT session attribute
2024-12-08T18:28:40.778-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-12-08T18:28:40.778-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-12-08T18:28:40.779-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2024-12-08T18:28:40.779-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2024-12-08T18:28:40.779-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2024-12-08T18:28:40.779-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2024-12-08T18:28:40.779-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2024-12-08T18:28:40.780-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2024-12-08T18:28:40.780-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2024-12-08T18:28:40.793-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00007f6524b5f488@4a1f65e5
2024-12-08T18:28:40.825-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2024-12-08T18:28:40.836-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2024-12-08T18:28:40.844-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2024-12-08T18:28:42.541-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-12-08T18:28:42.544-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-08T18:28:42.556-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E43C62BBC022E7406043354DA03D11A], Granted Authorities=[ROLE_ANONYMOUS]]
2024-12-08T18:29:19.179-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:29:19.180-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:29:19.185-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:29:19.186-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:29:19.186-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:29:19.186-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:29:19.187-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:29:19.187-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f6524b5ee50@28bbac99, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4f237aac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e8330ba, org.springframework.security.web.context.SecurityContextHolderFilter@6451fd0e, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@50e9b5f4, org.springframework.security.web.header.HeaderWriterFilter@59de440b, org.springframework.security.web.csrf.CsrfFilter@26a8e303, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@29957fe0, org.springframework.security.web.authentication.logout.LogoutFilter@57c06659, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@44bd4b94, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@408ce324, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@8d44ee6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@32e2d117, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7c3e94b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4148a617, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a2227e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68009f48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@739fcd31, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@716c201e, org.springframework.security.web.access.ExceptionTranslationFilter@55e9b119, org.springframework.security.web.access.intercept.AuthorizationFilter@1d5522e4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d40f584, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@77d695f2, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@45bf1b4e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2dda91b3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@61e4cf9b]] (8/9)
2024-12-08T18:29:19.188-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2024-12-08T18:29:19.188-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2024-12-08T18:29:19.189-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2024-12-08T18:29:19.189-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2024-12-08T18:29:19.190-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2024-12-08T18:29:19.195-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2024-12-08T18:29:19.227-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2024-12-08T18:29:19.243-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f6524b5ee50@28bbac99, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@131c4ffe]]]
2024-12-08T18:29:19.244-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2024-12-08T18:29:19.244-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2024-12-08T18:29:19.245-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2024-12-08T18:29:19.245-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2024-12-08T18:29:19.246-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2024-12-08T18:29:19.248-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 3E43C62BBC022E7406043354DA03D11A using the SPRING_SECURITY_CONTEXT session attribute
2024-12-08T18:29:19.248-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-12-08T18:29:19.249-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-12-08T18:29:19.259-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2024-12-08T18:29:19.597-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Retrieved registered client
2024-12-08T18:29:19.597-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2024-12-08T18:29:19.597-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2024-12-08T18:29:19.598-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2024-12-08T18:29:19.598-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2024-12-08T18:29:19.598-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2024-12-08T18:29:19.598-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2024-12-08T18:29:19.599-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2024-12-08T18:29:19.599-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2024-12-08T18:29:19.599-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2024-12-08T18:29:19.600-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-12-08T18:29:19.600-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2024-12-08T18:29:19.600-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2024-12-08T18:29:19.600-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2024-12-08T18:29:19.601-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2024-12-08T18:29:19.601-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2024-12-08T18:29:19.601-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2024-12-08T18:29:19.601-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2024-12-08T18:29:19.602-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2d0fb5e6
2024-12-08T18:29:19.602-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E43C62BBC022E7406043354DA03D11A], Granted Authorities=[ROLE_ANONYMOUS]]
2024-12-08T18:29:19.602-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E43C62BBC022E7406043354DA03D11A], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2024-12-08T18:29:19.616-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2024-12-08T18:29:19.617-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2024-12-08T18:29:19.617-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@131c4ffe, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@e156110, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@e156110, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@e156110, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2024-12-08T18:29:19.618-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@e156110, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2024-12-08T18:29:19.624-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@5d2e6b31
2024-12-08T18:29:19.625-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2024-12-08T18:29:19.625-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-12-08T18:29:19.720-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:29:19.721-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:29:19.721-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:29:19.722-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:29:19.722-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:29:19.722-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:29:19.723-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:29:19.724-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f6524b5ee50@28bbac99, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4f237aac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e8330ba, org.springframework.security.web.context.SecurityContextHolderFilter@6451fd0e, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@50e9b5f4, org.springframework.security.web.header.HeaderWriterFilter@59de440b, org.springframework.security.web.csrf.CsrfFilter@26a8e303, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@29957fe0, org.springframework.security.web.authentication.logout.LogoutFilter@57c06659, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@44bd4b94, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@408ce324, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@8d44ee6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@32e2d117, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7c3e94b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4148a617, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a2227e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68009f48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@739fcd31, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@716c201e, org.springframework.security.web.access.ExceptionTranslationFilter@55e9b119, org.springframework.security.web.access.intercept.AuthorizationFilter@1d5522e4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d40f584, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@77d695f2, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@45bf1b4e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2dda91b3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@61e4cf9b]] (8/9)
2024-12-08T18:29:19.724-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@9260599, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@386beb8a, org.springframework.security.web.context.SecurityContextHolderFilter@2184c27b, org.springframework.security.web.header.HeaderWriterFilter@389d371a, org.springframework.security.web.authentication.logout.LogoutFilter@65fbb726, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3e8a1137, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5f50f63e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@55781d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@32daea66, io.github.cursodsousa.libraryapi.security.JwtCustomAuthenticationFilter@61799152, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@667c2066, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c21bab4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d18f9b8, org.springframework.security.web.access.ExceptionTranslationFilter@385abc08, org.springframework.security.web.access.intercept.AuthorizationFilter@aca89a3]] (9/9)
2024-12-08T18:29:19.725-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2024-12-08T18:29:19.725-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2024-12-08T18:29:19.726-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2024-12-08T18:29:19.726-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2024-12-08T18:29:19.727-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2024-12-08T18:29:19.728-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2024-12-08T18:29:19.728-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-12-08T18:29:19.728-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2024-12-08T18:29:19.728-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2024-12-08T18:29:19.729-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-12-08T18:29:19.729-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2024-12-08T18:29:19.729-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2024-12-08T18:29:19.730-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2024-12-08T18:29:19.730-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-12-08T18:29:19.730-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2024-12-08T18:29:19.740-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 3E43C62BBC022E7406043354DA03D11A using the SPRING_SECURITY_CONTEXT session attribute
2024-12-08T18:29:19.741-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-12-08T18:29:19.741-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-12-08T18:29:19.741-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2024-12-08T18:29:19.741-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2024-12-08T18:29:19.741-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2024-12-08T18:29:19.742-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2024-12-08T18:29:19.742-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2024-12-08T18:29:19.742-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2024-12-08T18:29:19.743-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2024-12-08T18:29:19.744-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00007f6524b5f488@4a1f65e5
2024-12-08T18:29:19.745-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2024-12-08T18:29:19.746-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2024-12-08T18:29:19.746-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2024-12-08T18:29:19.749-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-12-08T18:29:19.750-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-08T18:29:19.761-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E43C62BBC022E7406043354DA03D11A], Granted Authorities=[ROLE_ANONYMOUS]]
2024-12-08T18:29:33.314-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:29:33.314-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:29:33.314-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:29:33.315-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:29:33.315-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:29:33.315-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:29:33.316-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:29:33.316-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f6524b5ee50@28bbac99, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4f237aac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e8330ba, org.springframework.security.web.context.SecurityContextHolderFilter@6451fd0e, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@50e9b5f4, org.springframework.security.web.header.HeaderWriterFilter@59de440b, org.springframework.security.web.csrf.CsrfFilter@26a8e303, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@29957fe0, org.springframework.security.web.authentication.logout.LogoutFilter@57c06659, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@44bd4b94, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@408ce324, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@8d44ee6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@32e2d117, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7c3e94b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4148a617, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a2227e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68009f48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@739fcd31, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@716c201e, org.springframework.security.web.access.ExceptionTranslationFilter@55e9b119, org.springframework.security.web.access.intercept.AuthorizationFilter@1d5522e4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d40f584, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@77d695f2, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@45bf1b4e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2dda91b3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@61e4cf9b]] (8/9)
2024-12-08T18:29:33.317-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@9260599, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@386beb8a, org.springframework.security.web.context.SecurityContextHolderFilter@2184c27b, org.springframework.security.web.header.HeaderWriterFilter@389d371a, org.springframework.security.web.authentication.logout.LogoutFilter@65fbb726, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3e8a1137, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5f50f63e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@55781d31, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@32daea66, io.github.cursodsousa.libraryapi.security.JwtCustomAuthenticationFilter@61799152, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@667c2066, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c21bab4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d18f9b8, org.springframework.security.web.access.ExceptionTranslationFilter@385abc08, org.springframework.security.web.access.intercept.AuthorizationFilter@aca89a3]] (9/9)
2024-12-08T18:29:33.317-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /login
2024-12-08T18:29:33.318-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2024-12-08T18:29:33.328-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2024-12-08T18:29:33.328-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2024-12-08T18:29:33.329-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2024-12-08T18:29:33.329-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2024-12-08T18:29:33.329-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-12-08T18:29:33.330-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2024-12-08T18:29:33.331-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2024-12-08T18:29:33.342-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-12-08T18:29:33.342-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2024-12-08T18:29:33.344-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2024-12-08T18:29:34.194-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-12-08T18:29:34.203-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3E43C62BBC022E7406043354DA03D11A
2024-12-08T18:29:34.209-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=io.github.cursodsousa.libraryapi.security.CustomAuthentication@39b6b6c7] to HttpSession [org.apache.catalina.session.StandardSessionFacade@31e1fa9b]
2024-12-08T18:29:34.219-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to io.github.cursodsousa.libraryapi.security.CustomAuthentication@39b6b6c7
2024-12-08T18:29:34.221-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2024-12-08T18:29:34.221-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-12-08T18:29:34.260-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:29:34.261-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:29:34.261-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:29:34.261-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:29:34.262-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:29:34.262-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:29:34.262-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:29:34.263-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f6524b5ee50@28bbac99, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4f237aac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e8330ba, org.springframework.security.web.context.SecurityContextHolderFilter@6451fd0e, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@50e9b5f4, org.springframework.security.web.header.HeaderWriterFilter@59de440b, org.springframework.security.web.csrf.CsrfFilter@26a8e303, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@29957fe0, org.springframework.security.web.authentication.logout.LogoutFilter@57c06659, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@44bd4b94, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@408ce324, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@8d44ee6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@32e2d117, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7c3e94b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4148a617, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a2227e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68009f48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@739fcd31, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@716c201e, org.springframework.security.web.access.ExceptionTranslationFilter@55e9b119, org.springframework.security.web.access.intercept.AuthorizationFilter@1d5522e4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d40f584, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@77d695f2, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@45bf1b4e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2dda91b3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@61e4cf9b]] (8/9)
2024-12-08T18:29:34.263-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2024-12-08T18:29:34.263-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2024-12-08T18:29:34.264-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2024-12-08T18:29:34.264-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2024-12-08T18:29:34.264-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2024-12-08T18:29:34.265-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2024-12-08T18:29:34.265-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2024-12-08T18:29:34.265-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f6524b5ee50@28bbac99, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@131c4ffe]]]
2024-12-08T18:29:34.265-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2024-12-08T18:29:34.276-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2024-12-08T18:29:34.277-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2024-12-08T18:29:34.277-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2024-12-08T18:29:34.278-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2024-12-08T18:29:34.279-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursodsousa.libraryapi.security.CustomAuthentication@39b6b6c7] from SPRING_SECURITY_CONTEXT
2024-12-08T18:29:34.280-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2024-12-08T18:29:34.742-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Retrieved registered client
2024-12-08T18:29:34.743-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2024-12-08T18:29:34.761-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Generated authorization code
2024-12-08T18:29:34.763-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Saved authorization
2024-12-08T18:29:34.763-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2024-12-08T18:29:34.764-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=OhM6zjh7hfrsNC0QCojlKKXsuYrPwwV3uYFIpaZ11JDjOi-SZvpoxLqnamWtjFRMn0YwVDO4zbKgaeMwdh521mxuDnTG5WnTuQZ1dkANIBu1Vf8VAQFZN8B55KW2DMlB
2024-12-08T18:29:34.765-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-12-08T18:29:39.202-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:29:39.203-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:29:39.203-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:29:39.203-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:29:39.203-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:29:39.203-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:29:39.203-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:29:39.204-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f6524b5ee50@28bbac99, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4f237aac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e8330ba, org.springframework.security.web.context.SecurityContextHolderFilter@6451fd0e, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@50e9b5f4, org.springframework.security.web.header.HeaderWriterFilter@59de440b, org.springframework.security.web.csrf.CsrfFilter@26a8e303, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@29957fe0, org.springframework.security.web.authentication.logout.LogoutFilter@57c06659, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@44bd4b94, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@408ce324, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@8d44ee6, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@32e2d117, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7c3e94b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4148a617, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3a2227e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68009f48, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@739fcd31, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@716c201e, org.springframework.security.web.access.ExceptionTranslationFilter@55e9b119, org.springframework.security.web.access.intercept.AuthorizationFilter@1d5522e4, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7d40f584, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@77d695f2, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@45bf1b4e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2dda91b3, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@61e4cf9b]] (8/9)
2024-12-08T18:29:39.204-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2024-12-08T18:29:39.204-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2024-12-08T18:29:39.204-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2024-12-08T18:29:39.205-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2024-12-08T18:29:39.205-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2024-12-08T18:29:39.206-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2024-12-08T18:29:39.206-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2024-12-08T18:29:39.207-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f6524b5ee50@28bbac99, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@131c4ffe]]]
2024-12-08T18:29:39.207-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2024-12-08T18:29:39.207-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2024-12-08T18:29:39.208-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2024-12-08T18:29:39.217-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2024-12-08T18:29:39.218-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2024-12-08T18:29:39.219-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2024-12-08T18:29:39.219-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2024-12-08T18:29:39.220-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2024-12-08T18:29:39.220-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2024-12-08T18:29:39.223-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2024-12-08T18:29:39.224-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2024-12-08T18:29:39.224-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2024-12-08T18:29:39.665-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2024-12-08T18:29:40.302-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] s.a.a.ClientSecretAuthenticationProvider : Invalid request: client_secret does not match for registered client 'be3ad02c-778d-4325-b4bc-bcc03d78d031'
2024-12-08T18:29:40.304-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with PublicClientAuthenticationProvider (4/20)
2024-12-08T18:29:40.316-03:00 DEBUG 39919 --- [libraryapi] [http-nio-8080-exec-1] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.oauth2.core.OAuth2AuthenticationException
2024-12-08T18:29:40.318-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.a.w.OAuth2ClientAuthenticationFilter : Client authentication failed: [invalid_client] Client authentication failed: client_secret

org.springframework.security.oauth2.core.OAuth2AuthenticationException: Client authentication failed: client_secret
	at org.springframework.security.oauth2.server.authorization.authentication.ClientSecretAuthenticationProvider.throwInvalidClient(ClientSecretAuthenticationProvider.java:169) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.oauth2.server.authorization.authentication.ClientSecretAuthenticationProvider.authenticate(ClientSecretAuthenticationProvider.java:130) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ObservationAuthenticationManager.lambda$authenticate$1(ObservationAuthenticationManager.java:54) ~[spring-security-core-6.3.3.jar:6.3.3]
	at io.micrometer.observation.Observation.observe(Observation.java:565) ~[micrometer-observation-1.13.4.jar:1.13.4]
	at org.springframework.security.authentication.ObservationAuthenticationManager.authenticate(ObservationAuthenticationManager.java:53) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:141) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:175) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2024-12-08T18:29:40.409-03:00 TRACE 39919 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-12-08T18:37:23.409-03:00  INFO 64819 --- [libraryapi] [main] i.g.cursodsousa.libraryapi.Application   : Starting Application using Java 21.0.5 with PID 64819 (/home/cb/course/spring/springbootexpert/libraryapi/target/classes started by cb in /home/cb/course/spring/springbootexpert/libraryapi)
2024-12-08T18:37:23.418-03:00 DEBUG 64819 --- [libraryapi] [main] i.g.cursodsousa.libraryapi.Application   : Running with Spring Boot v3.3.4, Spring v6.1.13
2024-12-08T18:37:23.419-03:00  INFO 64819 --- [libraryapi] [main] i.g.cursodsousa.libraryapi.Application   : The following 1 profile is active: "default"
2024-12-08T18:37:32.568-03:00  INFO 64819 --- [libraryapi] [main] i.g.c.l.config.DatabaseConfiguration     : Iniciando conex√£o com o banco na URL: jdbc:postgresql://library-database.c3cqsioossb3.us-east-2.rds.amazonaws.com:5432/library
2024-12-08T18:37:32.586-03:00  WARN 64819 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2024-12-08T18:37:40.292-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2024-12-08T18:37:40.298-03:00 DEBUG 64819 --- [libraryapi] [main] i.g.c.l.s.JwtCustomAuthenticationFilter  : Filter 'jwtCustomAuthenticationFilter' configured for use
2024-12-08T18:37:43.316-03:00  WARN 64819 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08T18:37:43.437-03:00 TRACE 64819 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=io.github.cursodsousa.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@6add8aac, securityConfiguration=io.github.cursodsousa.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@2ab40d2d}
2024-12-08T18:37:43.440-03:00  INFO 64819 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2024-12-08T18:37:43.829-03:00 DEBUG 64819 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2024-12-08T18:37:43.890-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2024-12-08T18:37:43.960-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2024-12-08T18:37:46.616-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f5568b60a90@4d5dc037 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2024-12-08T18:37:46.739-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-12-08T18:37:46.786-03:00  WARN 64819 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:37:46.787-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2024-12-08T18:37:46.788-03:00  WARN 64819 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:37:46.788-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2024-12-08T18:37:46.788-03:00  WARN 64819 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:37:46.788-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2024-12-08T18:37:46.789-03:00  WARN 64819 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:37:46.789-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2024-12-08T18:37:46.789-03:00  WARN 64819 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:37:46.789-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2024-12-08T18:37:46.789-03:00  WARN 64819 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:37:46.789-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2024-12-08T18:37:46.790-03:00  WARN 64819 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-12-08T18:37:46.790-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']]
2024-12-08T18:37:46.991-03:00 DEBUG 64819 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-08T18:37:47.078-03:00 DEBUG 64819 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-08T18:37:48.749-03:00 DEBUG 64819 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 1 mappings in 'requestMappingHandlerMapping'
2024-12-08T18:37:48.753-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2024-12-08T18:37:48.767-03:00 DEBUG 64819 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2024-12-08T18:37:48.787-03:00 DEBUG 64819 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-08T18:37:48.844-03:00  INFO 64819 --- [libraryapi] [main] i.g.cursodsousa.libraryapi.Application   : Started Application in 27.037 seconds (process running for 28.343)
2024-12-08T18:38:11.715-03:00  INFO 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-08T18:38:11.717-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-08T18:38:11.718-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-08T18:38:11.719-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-08T18:38:11.722-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@445eed0b
2024-12-08T18:38:11.723-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@54ad5fce
2024-12-08T18:38:11.724-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-08T18:38:11.725-03:00  INFO 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2024-12-08T18:38:11.863-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:38:11.865-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:38:11.866-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:38:11.867-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:38:11.867-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:38:11.868-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:38:11.874-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:38:11.874-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f5568b60a90@4d5dc037, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36f1aecf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ecec5e6, org.springframework.security.web.context.SecurityContextHolderFilter@372ea7fa, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5496cd02, org.springframework.security.web.header.HeaderWriterFilter@6ac9b6d, org.springframework.security.web.csrf.CsrfFilter@4cb20a1b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@50e9b5f4, org.springframework.security.web.authentication.logout.LogoutFilter@5455f457, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@347042e7, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4412b152, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@a9375dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@61e4cf9b, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@79f8af90, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44bd4b94, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@64cc5f34, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5979cd9d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47f74d8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bf64e55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aafa50c, org.springframework.security.web.access.ExceptionTranslationFilter@ed8a7ab, org.springframework.security.web.access.intercept.AuthorizationFilter@88151e7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@59250335, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@5dd52021, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@761b4581, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@321b3440]] (8/9)
2024-12-08T18:38:11.880-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2024-12-08T18:38:11.884-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2024-12-08T18:38:11.898-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2024-12-08T18:38:11.902-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2024-12-08T18:38:11.907-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2024-12-08T18:38:11.920-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2024-12-08T18:38:11.922-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2024-12-08T18:38:11.937-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f5568b60a90@4d5dc037, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1c4053aa]]]
2024-12-08T18:38:11.937-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2024-12-08T18:38:11.938-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2024-12-08T18:38:11.938-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2024-12-08T18:38:11.938-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2024-12-08T18:38:11.939-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2024-12-08T18:38:11.953-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2024-12-08T18:38:11.954-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-12-08T18:38:11.954-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-12-08T18:38:11.970-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2024-12-08T18:38:12.867-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2024-12-08T18:38:12.870-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2024-12-08T18:38:12.871-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2024-12-08T18:38:12.875-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2024-12-08T18:38:12.877-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2024-12-08T18:38:12.880-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2024-12-08T18:38:12.881-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2024-12-08T18:38:12.882-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2024-12-08T18:38:12.883-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2024-12-08T18:38:12.883-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2024-12-08T18:38:12.884-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-12-08T18:38:12.884-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2024-12-08T18:38:12.885-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2024-12-08T18:38:12.885-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2024-12-08T18:38:12.888-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2024-12-08T18:38:12.891-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2024-12-08T18:38:12.897-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2024-12-08T18:38:12.901-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2024-12-08T18:38:12.902-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@490ec990
2024-12-08T18:38:12.904-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-12-08T18:38:12.914-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2024-12-08T18:38:12.967-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2024-12-08T18:38:12.967-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2024-12-08T18:38:12.980-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1c4053aa, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@39d666e0, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@39d666e0, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@39d666e0, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2024-12-08T18:38:12.982-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@39d666e0, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2024-12-08T18:38:12.983-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@7c33d81f
2024-12-08T18:38:12.985-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2024-12-08T18:38:12.986-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-12-08T18:38:13.030-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:38:13.032-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:38:13.032-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:38:13.033-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:38:13.033-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:38:13.037-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:38:13.045-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:38:13.050-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f5568b60a90@4d5dc037, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36f1aecf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ecec5e6, org.springframework.security.web.context.SecurityContextHolderFilter@372ea7fa, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5496cd02, org.springframework.security.web.header.HeaderWriterFilter@6ac9b6d, org.springframework.security.web.csrf.CsrfFilter@4cb20a1b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@50e9b5f4, org.springframework.security.web.authentication.logout.LogoutFilter@5455f457, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@347042e7, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4412b152, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@a9375dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@61e4cf9b, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@79f8af90, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44bd4b94, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@64cc5f34, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5979cd9d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47f74d8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bf64e55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aafa50c, org.springframework.security.web.access.ExceptionTranslationFilter@ed8a7ab, org.springframework.security.web.access.intercept.AuthorizationFilter@88151e7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@59250335, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@5dd52021, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@761b4581, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@321b3440]] (8/9)
2024-12-08T18:38:13.059-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@132d69c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12d3e7f0, org.springframework.security.web.context.SecurityContextHolderFilter@77f0b9d7, org.springframework.security.web.header.HeaderWriterFilter@35950e2, org.springframework.security.web.authentication.logout.LogoutFilter@763d7eef, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b3d7eb6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@72988e0c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3ea7d936, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7bf75275, io.github.cursodsousa.libraryapi.security.JwtCustomAuthenticationFilter@769d0ef2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c9c375, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4de6c6b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7923ce, org.springframework.security.web.access.ExceptionTranslationFilter@11eb41f4, org.springframework.security.web.access.intercept.AuthorizationFilter@4bfd9e3a]] (9/9)
2024-12-08T18:38:13.060-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2024-12-08T18:38:13.062-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2024-12-08T18:38:13.063-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2024-12-08T18:38:13.063-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2024-12-08T18:38:13.064-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2024-12-08T18:38:13.064-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2024-12-08T18:38:13.065-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-12-08T18:38:13.065-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2024-12-08T18:38:13.065-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2024-12-08T18:38:13.065-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-12-08T18:38:13.066-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2024-12-08T18:38:13.066-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2024-12-08T18:38:13.066-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2024-12-08T18:38:13.066-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-12-08T18:38:13.067-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2024-12-08T18:38:13.067-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 4BA365FDD893DD694FD692F47FB6F510 using the SPRING_SECURITY_CONTEXT session attribute
2024-12-08T18:38:13.067-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-12-08T18:38:13.067-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2024-12-08T18:38:13.067-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2024-12-08T18:38:13.068-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2024-12-08T18:38:13.068-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2024-12-08T18:38:13.068-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2024-12-08T18:38:13.069-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2024-12-08T18:38:13.069-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2024-12-08T18:38:13.069-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2024-12-08T18:38:13.082-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00007f5568b610c8@57722d18
2024-12-08T18:38:13.086-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2024-12-08T18:38:13.099-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2024-12-08T18:38:13.114-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2024-12-08T18:38:14.197-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-12-08T18:38:14.203-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-08T18:38:14.203-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=4BA365FDD893DD694FD692F47FB6F510], Granted Authorities=[ROLE_ANONYMOUS]]
2024-12-08T18:38:56.385-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:38:56.386-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:38:56.386-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:38:56.387-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:38:56.388-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:38:56.389-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:38:56.389-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:38:56.390-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f5568b60a90@4d5dc037, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36f1aecf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ecec5e6, org.springframework.security.web.context.SecurityContextHolderFilter@372ea7fa, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5496cd02, org.springframework.security.web.header.HeaderWriterFilter@6ac9b6d, org.springframework.security.web.csrf.CsrfFilter@4cb20a1b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@50e9b5f4, org.springframework.security.web.authentication.logout.LogoutFilter@5455f457, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@347042e7, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4412b152, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@a9375dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@61e4cf9b, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@79f8af90, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44bd4b94, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@64cc5f34, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5979cd9d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47f74d8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bf64e55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aafa50c, org.springframework.security.web.access.ExceptionTranslationFilter@ed8a7ab, org.springframework.security.web.access.intercept.AuthorizationFilter@88151e7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@59250335, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@5dd52021, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@761b4581, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@321b3440]] (8/9)
2024-12-08T18:38:56.390-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@132d69c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12d3e7f0, org.springframework.security.web.context.SecurityContextHolderFilter@77f0b9d7, org.springframework.security.web.header.HeaderWriterFilter@35950e2, org.springframework.security.web.authentication.logout.LogoutFilter@763d7eef, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b3d7eb6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@72988e0c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3ea7d936, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7bf75275, io.github.cursodsousa.libraryapi.security.JwtCustomAuthenticationFilter@769d0ef2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c9c375, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4de6c6b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7923ce, org.springframework.security.web.access.ExceptionTranslationFilter@11eb41f4, org.springframework.security.web.access.intercept.AuthorizationFilter@4bfd9e3a]] (9/9)
2024-12-08T18:38:56.391-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2024-12-08T18:38:56.399-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2024-12-08T18:38:56.400-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2024-12-08T18:38:56.401-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2024-12-08T18:38:56.401-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2024-12-08T18:38:56.401-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2024-12-08T18:38:56.402-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-12-08T18:38:56.402-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2024-12-08T18:38:56.403-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2024-12-08T18:38:56.403-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-12-08T18:38:56.403-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2024-12-08T18:38:56.413-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2024-12-08T18:38:57.223-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-12-08T18:38:57.225-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 4BA365FDD893DD694FD692F47FB6F510
2024-12-08T18:38:57.227-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=io.github.cursodsousa.libraryapi.security.CustomAuthentication@1cc2ce70] to HttpSession [org.apache.catalina.session.StandardSessionFacade@13374bae]
2024-12-08T18:38:57.228-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to io.github.cursodsousa.libraryapi.security.CustomAuthentication@1cc2ce70
2024-12-08T18:38:57.229-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2024-12-08T18:38:57.229-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-12-08T18:38:57.245-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:38:57.245-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:38:57.246-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:38:57.246-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:38:57.247-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:38:57.247-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:38:57.247-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:38:57.247-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f5568b60a90@4d5dc037, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36f1aecf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ecec5e6, org.springframework.security.web.context.SecurityContextHolderFilter@372ea7fa, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5496cd02, org.springframework.security.web.header.HeaderWriterFilter@6ac9b6d, org.springframework.security.web.csrf.CsrfFilter@4cb20a1b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@50e9b5f4, org.springframework.security.web.authentication.logout.LogoutFilter@5455f457, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@347042e7, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4412b152, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@a9375dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@61e4cf9b, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@79f8af90, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44bd4b94, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@64cc5f34, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5979cd9d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47f74d8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bf64e55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aafa50c, org.springframework.security.web.access.ExceptionTranslationFilter@ed8a7ab, org.springframework.security.web.access.intercept.AuthorizationFilter@88151e7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@59250335, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@5dd52021, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@761b4581, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@321b3440]] (8/9)
2024-12-08T18:38:57.248-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=client-production&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2024-12-08T18:38:57.248-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2024-12-08T18:38:57.249-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2024-12-08T18:38:57.249-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2024-12-08T18:38:57.250-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2024-12-08T18:38:57.251-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2024-12-08T18:38:57.251-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2024-12-08T18:38:57.252-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f5568b60a90@4d5dc037, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1c4053aa]]]
2024-12-08T18:38:57.252-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2024-12-08T18:38:57.252-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2024-12-08T18:38:57.253-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2024-12-08T18:38:57.253-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2024-12-08T18:38:57.263-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2024-12-08T18:38:57.265-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=io.github.cursodsousa.libraryapi.security.CustomAuthentication@1cc2ce70] from SPRING_SECURITY_CONTEXT
2024-12-08T18:38:57.266-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2024-12-08T18:38:57.582-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] izationCodeRequestAuthenticationProvider : Retrieved registered client
2024-12-08T18:38:57.583-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2024-12-08T18:38:57.602-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] izationCodeRequestAuthenticationProvider : Generated authorization code
2024-12-08T18:38:57.606-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] izationCodeRequestAuthenticationProvider : Saved authorization
2024-12-08T18:38:57.606-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2024-12-08T18:38:57.608-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=3WGQ9IoKSacs91IJUD8UOy9uur7FrNGmE9kZs6kgRH-0rJmSXse7SD2piqjkVwz9iQC13qP3JHc4C2IyWwCVffoprSPcXH6iICqV6QPeGmT3RlLkgIIzkJsdT3x-I0js
2024-12-08T18:38:57.609-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-12-08T18:38:58.511-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:38:58.511-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:38:58.519-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:38:58.522-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:38:58.523-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:38:58.529-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:38:58.530-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:38:58.531-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f5568b60a90@4d5dc037, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36f1aecf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ecec5e6, org.springframework.security.web.context.SecurityContextHolderFilter@372ea7fa, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5496cd02, org.springframework.security.web.header.HeaderWriterFilter@6ac9b6d, org.springframework.security.web.csrf.CsrfFilter@4cb20a1b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@50e9b5f4, org.springframework.security.web.authentication.logout.LogoutFilter@5455f457, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@347042e7, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4412b152, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@a9375dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@61e4cf9b, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@79f8af90, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44bd4b94, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@64cc5f34, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5979cd9d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47f74d8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bf64e55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aafa50c, org.springframework.security.web.access.ExceptionTranslationFilter@ed8a7ab, org.springframework.security.web.access.intercept.AuthorizationFilter@88151e7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@59250335, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@5dd52021, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@761b4581, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@321b3440]] (8/9)
2024-12-08T18:38:58.531-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2024-12-08T18:38:58.532-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2024-12-08T18:38:58.532-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2024-12-08T18:38:58.533-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2024-12-08T18:38:58.533-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2024-12-08T18:38:58.533-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2024-12-08T18:38:58.534-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2024-12-08T18:38:58.534-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f5568b60a90@4d5dc037, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@1c4053aa]]]
2024-12-08T18:38:58.534-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2024-12-08T18:38:58.535-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2024-12-08T18:38:58.535-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2024-12-08T18:38:58.536-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2024-12-08T18:38:58.537-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2024-12-08T18:38:58.538-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2024-12-08T18:38:58.539-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2024-12-08T18:38:58.539-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2024-12-08T18:38:58.540-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2024-12-08T18:38:58.553-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2024-12-08T18:38:58.554-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2024-12-08T18:38:58.554-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2024-12-08T18:38:58.868-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2024-12-08T18:38:59.275-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2024-12-08T18:38:59.276-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2024-12-08T18:38:59.276-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2024-12-08T18:38:59.276-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2024-12-08T18:38:59.277-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2024-12-08T18:38:59.278-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2024-12-08T18:38:59.278-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2024-12-08T18:38:59.279-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2024-12-08T18:38:59.279-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2024-12-08T18:38:59.279-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2024-12-08T18:38:59.280-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2024-12-08T18:38:59.280-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2024-12-08T18:38:59.281-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2024-12-08T18:38:59.281-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2024-12-08T18:38:59.282-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2024-12-08T18:38:59.292-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2024-12-08T18:38:59.292-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@490ec990
2024-12-08T18:38:59.293-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=client-production, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2024-12-08T18:38:59.294-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2024-12-08T18:38:59.297-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2024-12-08T18:38:59.298-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2024-12-08T18:38:59.298-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2024-12-08T18:38:59.299-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2024-12-08T18:38:59.398-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated access token
2024-12-08T18:38:59.400-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2024-12-08T18:38:59.401-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2024-12-08T18:38:59.401-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2024-12-08T18:38:59.522-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-12-08T18:39:39.869-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:39:39.870-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:39:39.870-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:39:39.871-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:39:39.871-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:39:39.871-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:39:39.871-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:39:39.872-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f5568b60a90@4d5dc037, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36f1aecf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ecec5e6, org.springframework.security.web.context.SecurityContextHolderFilter@372ea7fa, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5496cd02, org.springframework.security.web.header.HeaderWriterFilter@6ac9b6d, org.springframework.security.web.csrf.CsrfFilter@4cb20a1b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@50e9b5f4, org.springframework.security.web.authentication.logout.LogoutFilter@5455f457, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@347042e7, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4412b152, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@a9375dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@61e4cf9b, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@79f8af90, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44bd4b94, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@64cc5f34, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5979cd9d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47f74d8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bf64e55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aafa50c, org.springframework.security.web.access.ExceptionTranslationFilter@ed8a7ab, org.springframework.security.web.access.intercept.AuthorizationFilter@88151e7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@59250335, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@5dd52021, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@761b4581, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@321b3440]] (8/9)
2024-12-08T18:39:39.873-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@132d69c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12d3e7f0, org.springframework.security.web.context.SecurityContextHolderFilter@77f0b9d7, org.springframework.security.web.header.HeaderWriterFilter@35950e2, org.springframework.security.web.authentication.logout.LogoutFilter@763d7eef, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b3d7eb6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@72988e0c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3ea7d936, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7bf75275, io.github.cursodsousa.libraryapi.security.JwtCustomAuthenticationFilter@769d0ef2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c9c375, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4de6c6b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7923ce, org.springframework.security.web.access.ExceptionTranslationFilter@11eb41f4, org.springframework.security.web.access.intercept.AuthorizationFilter@4bfd9e3a]] (9/9)
2024-12-08T18:39:39.873-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /autores
2024-12-08T18:39:39.873-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2024-12-08T18:39:39.874-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2024-12-08T18:39:39.875-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2024-12-08T18:39:39.875-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2024-12-08T18:39:39.875-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2024-12-08T18:39:39.875-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-12-08T18:39:39.876-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2024-12-08T18:39:39.882-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2024-12-08T18:39:39.883-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-12-08T18:39:39.883-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2024-12-08T18:39:39.883-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2024-12-08T18:39:39.883-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2024-12-08T18:39:39.885-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2024-12-08T18:39:39.908-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2024-12-08T18:39:39.909-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-12-08T18:39:39.910-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b8c9af31, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2024-12-08T18:39:39.911-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2024-12-08T18:39:40.233-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2024-12-08T18:39:40.234-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2024-12-08T18:39:40.235-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2024-12-08T18:39:40.235-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2024-12-08T18:39:40.236-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2024-12-08T18:39:40.236-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2024-12-08T18:39:40.237-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /autores
2024-12-08T18:39:40.237-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /autores using org.springframework.security.authorization.AuthenticatedAuthorizationManager@5cb490f
2024-12-08T18:39:40.238-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursodsousa.libraryapi.security.CustomAuthentication@574bc8ea
2024-12-08T18:39:40.249-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /autores
2024-12-08T18:39:40.249-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/autores", parameters={}
2024-12-08T18:39:40.250-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursodsousa.libraryapi.controller.AutorController#salvar(AutorDTO)
2024-12-08T18:39:40.593-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AutorDTO[id=null, nome=Clarice Lispector, dataNascimento=1920-12-10, nacionalidade=Brasileira]]
2024-12-08T18:39:40.804-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity io.github.cursodsousa.libraryapi.controller.AutorController.salvar(io.github.cursodsousa.libraryapi.controller.dto.AutorDTO); target is of class [io.github.cursodsousa.libraryapi.controller.AutorController]
2024-12-08T18:39:40.860-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity io.github.cursodsousa.libraryapi.controller.AutorController.salvar(io.github.cursodsousa.libraryapi.controller.dto.AutorDTO); target is of class [io.github.cursodsousa.libraryapi.controller.AutorController]
2024-12-08T18:39:40.860-03:00  INFO 64819 --- [libraryapi] [http-nio-8080-exec-9] i.g.c.l.controller.AutorController       : Cadastrando novo autor: Clarice Lispector
2024-12-08T18:39:41.637-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-08T18:39:41.638-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2024-12-08T18:39:41.640-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2024-12-08T18:39:41.642-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-12-08T18:40:50.792-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/9)
2024-12-08T18:40:50.793-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/9)
2024-12-08T18:40:50.793-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/9)
2024-12-08T18:40:50.793-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/9)
2024-12-08T18:40:50.794-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/9)
2024-12-08T18:40:50.794-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/9)
2024-12-08T18:40:50.794-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/actuator/**'], Ant [pattern='/actuator/**']], Filters=[]] (7/9)
2024-12-08T18:40:50.795-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00007f5568b60a90@4d5dc037, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@36f1aecf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ecec5e6, org.springframework.security.web.context.SecurityContextHolderFilter@372ea7fa, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@5496cd02, org.springframework.security.web.header.HeaderWriterFilter@6ac9b6d, org.springframework.security.web.csrf.CsrfFilter@4cb20a1b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@50e9b5f4, org.springframework.security.web.authentication.logout.LogoutFilter@5455f457, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@347042e7, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4412b152, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@a9375dd, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@61e4cf9b, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@79f8af90, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@44bd4b94, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@64cc5f34, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5979cd9d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47f74d8f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bf64e55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4aafa50c, org.springframework.security.web.access.ExceptionTranslationFilter@ed8a7ab, org.springframework.security.web.access.intercept.AuthorizationFilter@88151e7, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@59250335, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@5dd52021, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1c322b6a, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@761b4581, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@321b3440]] (8/9)
2024-12-08T18:40:50.795-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@132d69c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12d3e7f0, org.springframework.security.web.context.SecurityContextHolderFilter@77f0b9d7, org.springframework.security.web.header.HeaderWriterFilter@35950e2, org.springframework.security.web.authentication.logout.LogoutFilter@763d7eef, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b3d7eb6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@72988e0c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3ea7d936, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7bf75275, io.github.cursodsousa.libraryapi.security.JwtCustomAuthenticationFilter@769d0ef2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c9c375, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4de6c6b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7923ce, org.springframework.security.web.access.ExceptionTranslationFilter@11eb41f4, org.springframework.security.web.access.intercept.AuthorizationFilter@4bfd9e3a]] (9/9)
2024-12-08T18:40:50.795-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /livros
2024-12-08T18:40:50.796-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2024-12-08T18:40:50.796-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2024-12-08T18:40:50.797-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2024-12-08T18:40:50.797-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2024-12-08T18:40:50.797-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2024-12-08T18:40:50.798-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-12-08T18:40:50.798-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2024-12-08T18:40:50.798-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2024-12-08T18:40:50.799-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2024-12-08T18:40:50.799-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2024-12-08T18:40:50.799-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2024-12-08T18:40:50.800-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2024-12-08T18:40:50.801-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2024-12-08T18:40:50.812-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2024-12-08T18:40:50.812-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2024-12-08T18:40:50.813-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b8c9af31, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2024-12-08T18:40:50.813-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2024-12-08T18:40:51.128-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2024-12-08T18:40:51.129-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2024-12-08T18:40:51.129-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2024-12-08T18:40:51.129-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2024-12-08T18:40:51.130-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2024-12-08T18:40:51.130-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2024-12-08T18:40:51.131-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing POST /livros
2024-12-08T18:40:51.131-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /livros using org.springframework.security.authorization.AuthenticatedAuthorizationManager@5cb490f
2024-12-08T18:40:51.131-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated io.github.cursodsousa.libraryapi.security.CustomAuthentication@53028fb7
2024-12-08T18:40:51.132-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /livros
2024-12-08T18:40:51.132-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/livros", parameters={}
2024-12-08T18:40:51.133-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to io.github.cursodsousa.libraryapi.controller.LivroController#salvar(CadastroLivroDTO)
2024-12-08T18:40:51.174-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CadastroLivroDTO[isbn=9782123456803, titulo=A hora da estrela, dataPublicacao=1977-01-01, genero=ROM (truncated)...]
2024-12-08T18:40:51.196-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity io.github.cursodsousa.libraryapi.controller.LivroController.salvar(io.github.cursodsousa.libraryapi.controller.dto.CadastroLivroDTO); target is of class [io.github.cursodsousa.libraryapi.controller.LivroController]
2024-12-08T18:40:51.198-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity io.github.cursodsousa.libraryapi.controller.LivroController.salvar(io.github.cursodsousa.libraryapi.controller.dto.CadastroLivroDTO); target is of class [io.github.cursodsousa.libraryapi.controller.LivroController]
2024-12-08T18:40:52.071-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-08T18:40:52.072-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2024-12-08T18:40:52.073-03:00 DEBUG 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2024-12-08T18:40:52.075-03:00 TRACE 64819 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
